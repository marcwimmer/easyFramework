using System;
using easyFramework.Sys;
using easyFramework.Sys.Data;
using easyFramework.Sys.ToolLib;
using easyFramework.Sys.Xml;
using easyFramework.Frontend.ASP.ASPTools;
using easyFramework.Frontend.ASP.WebComponents;
using System.Web;

namespace easyFramework.Frontend.ASP.Dialog
{
	//================================================================================
	//Class:     efDialogPage
	//--------------------------------------------------------------------------------'
	//Module:    efPage.vb
	//--------------------------------------------------------------------------------'
	//Copyright: Promain Software-Betreuung GmbH
	//--------------------------------------------------------------------------------'
	//Purpose:   An ASP-Page, which holds dialog-controls
	//--------------------------------------------------------------------------------'
	//Created:   22.03.2004 01:07:15
	//--------------------------------------------------------------------------------'
	//Changed:
	//--------------------------------------------------------------------------------'
	//================================================================================
	//Imports:
	//================================================================================

	public class efDialogPage : efPage
	{




		//================================================================================
		//Public Properties:
		//================================================================================


	


		//================================================================================
		//Sub:       Page_Load
		//--------------------------------------------------------------------------------'
		//Purpose:   standard handler of load-event, which also calls load-event
		//--------------------------------------------------------------------------------'
		//Params:    sender, eventargs
		//--------------------------------------------------------------------------------'
		//Created:   23.03.2004 09:59:11
		//--------------------------------------------------------------------------------'
		//Changed:
		//--------------------------------------------------------------------------------'
		public override void CustomInit(XmlDocument oXmlRequest)
		{

			base.CustomInit(oXmlRequest);

			


		}


		//================================================================================
		//Function:		<OBJECTNAME>
		//--------------------------------------------------------------------------------
		//Purpose:		to be overwritten to handle custom init/events
		//--------------------------------------------------------------------------------
		//Params:	
		//--------------------------------------------------------------------------------
		//Returns:	
		//--------------------------------------------------------------------------------
		//Created:	05.09.2004 17:27:14 Marc Wimmer (mwimmer@promain-software.de)
		//--------------------------------------------------------------------------------
		//Changed:	
		//--------------------------------------------------------------------------------
		public virtual void CustomInit() 
		{
			//TO OVERRIDE!
		}

		//================================================================================
		//Public Methods:
		//================================================================================

		//================================================================================
		//Sub:       gAddScriptLink
		//--------------------------------------------------------------------------------'
		//Purpose:   calls the add-script-link function of script-link object
		//--------------------------------------------------------------------------------'
		//Params:    filename(string), global-script(bool)
		//--------------------------------------------------------------------------------'
		//Created:   23.03.2004 10:07:07
		//--------------------------------------------------------------------------------'
		//Changed:
		//--------------------------------------------------------------------------------'
		public void gAddScriptLink (string sFilename, bool bGlobal, string sLanguage)
		{
			if (moGetScriptLinks() != null)
			{
				moGetScriptLinks().AddScriptLink(sFilename, bGlobal, sLanguage);
			}
		}
		//================================================================================
		//Sub:       gAddCss
		//--------------------------------------------------------------------------------'
		//Purpose:   calls the add-css-link function of pagehead object
		//--------------------------------------------------------------------------------'
		//Params:    filename(string), global-css(bool)
		//--------------------------------------------------------------------------------'
		//Created:   23.03.2004 10:07:07
		//--------------------------------------------------------------------------------'
		//Changed:
		//--------------------------------------------------------------------------------'
		public void gAddCss (string sFilename, bool bGlobal)
		{
			if (moGetPageHeader() != null)
			{
				moGetPageHeader().AddCss(sFilename, bGlobal);
			}
			else
			{
				throw (new efException("An efPageHeader-object is required!"));
			}
		}




		//================================================================================
		//Private Methods:
		//================================================================================

		//================================================================================
		//Function:  moGetPageHeader
		//--------------------------------------------------------------------------------'
		//Purpose:   returns the pageheader, if there is one
		//--------------------------------------------------------------------------------'
		//Params:    -
		//--------------------------------------------------------------------------------'
		//Returns:   efPageHeader
		//--------------------------------------------------------------------------------'
		//Created:   23.03.2004 10:04:09
		//--------------------------------------------------------------------------------'
		//Changed:
		//--------------------------------------------------------------------------------'
		private efPageHeader moGetPageHeader()
		{
			//try to find a efPageHeader-Class and set the document-title
			for (int i = 0; i <= this.Controls.Count - 1; i++)
			{
				if ((Controls[i]) is efPageHeader)
				{
		
					return ((efPageHeader)(Controls[i]));
		
		
				}
	
			}
			return null;
		}



		//================================================================================
		//Function:  moGetScriptLinks
		//--------------------------------------------------------------------------------'
		//Purpose:   returns the scriptlinks-object, if there is one
		//--------------------------------------------------------------------------------'
		//Params:    -
		//--------------------------------------------------------------------------------'
		//Returns:   efScriptLinks
		//--------------------------------------------------------------------------------'
		//Created:   23.03.2004 10:04:09
		//--------------------------------------------------------------------------------'
		//Changed:
		//--------------------------------------------------------------------------------'
		private efScriptLinks moGetScriptLinks()
		{
			//try to find a efPageHeader-Class and set the document-title
			for (int i = 0; i <= this.Controls.Count - 1; i++)
			{
				if ((Controls[i]) is efScriptLinks)
				{
		
					return ((efScriptLinks)(Controls[i]));
		
		
				}
	
			}

			return null;

		}

	}

}
